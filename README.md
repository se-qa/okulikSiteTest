# OkulikSiteTest

**OkulikSiteTest** — это фреймворк для автоматизации UI-тестирования сайта [Okulik](https://okulik.by/), реализованный на Python с использованием Selenium WebDriver и pytest. Проект следует паттерну Page Object Model (POM), обеспечивая удобную поддержку и масштабирование тестов.

## Основные возможности

- **Автоматизация сценариев:** авторизация, поиск товаров, оформление заказов и другие важные действия.
- **Модульная структура:** локаторы и действия инкапсулированы в отдельные классы страниц.
- **Гибкая конфигурация:** с помощью файла `config.json`, переменных окружения в `.env` и параметров командной строки pytest.
- **Отчёты:** интеграция с Allure Report для генерации подробных интерактивных отчётов с шагами, скриншотами и графиками.

## Приемы и архитектурные решения

### Page Object Model

Каждый класс в `pages/` содержит:
- локаторы (By.…)
- методы действий (клик, ввод текста, проверки)
- модули ожиданий и управления браузером из поддиректории `modules/`

### Pytest-фикстуры

- `webdriver` или аналог (session‑scope) для запуска браузера
- `context/page` (function‑scope) для свежего состояния перед каждым тестом

### Загрузка конфигурации

- Библиотека `python‑dotenv` читает `.env` и подставляет переменные в `os.environ`
- Утилита `utils/client.py` объединяет JSON‑конфиг и переменные окружения, обеспечивая централизованный доступ

## Технологический стек

- Python 3.8+
- Selenium WebDriver
- pytest (фикстуры, параметризация, CLI-опции)
- python-dotenv (работа с переменными окружения)
- allure-pytest (генерация отчётов)
- ChromeDriver (или другой совместимый WebDriver)

## Структура проекта

```
okulikSiteTest/
├── pages/
│   ├── base_page.py       # Базовые методы и общие действия
│   ├── modules/           # Взаимодействие с браузером, ожидания и утилиты
│   └── (файлы страниц)
├── tests/
│   ├── data/
│   │   ├── js_scripts/     # JavaScript скрипты для тестов
│   │   ├── locators/       # Локаторы элементов страниц
│   │   └── tests_data/     # Данные для параметризованных тестов
│   └── (тесты страниц)
├── utils/
│   ├── client.py          # Конфигурация и работа с окружением
│   └── browser_options.py # Опции запуска браузера
├── conftest.py            # Фикстуры pytest
├── config.json            # Настройки запуска браузера
├── pytest.ini             # Конфигурация pytest
├── .env.example           # Пример переменных окружения
├── requirements.txt       # Зависимости
└── README.md              # Документация
```

## Начало работы

### Требования

- Python 3.8+
- ChromeDriver, совместимый с вашей версией Chrome

### Установка и запуск

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/your-username/okulikSiteTest.git
   cd okulikSiteTest
   ```

2. Создайте и активируйте виртуальное окружение (рекомендуется):

   ```bash
   python -m venv venv
   source venv/bin/activate # Linux/MacOS
   venv\Scripts\activate   # Windows
   ```

3. Установите зависимости:

   ```bash
   pip install -r requirements.txt
   ```

4. Создайте файл `.env` по образцу `.env.example`, заполнив его своими данными:

   ```
   BASE_URL=https://okulik.by/
   LOGIN_URL=...
   FULL_PRICE_URL=...
   ```

5. Настройте опции браузера в `config.json`, если это необходимо.

### Запуск тестов

- Запуск всех тестов:

  ```bash
  pytest
  ```

- Запуск тестов с опциями (например, headless-режим и отключение кеша):

  ```bash
  pytest --headless --disable-cache --incognito
  ```

- Генерация отчёта Allure:

  ```bash
  pytest --alluredir=allure-results
  allure serve allure-results
  ```

## Как внести вклад

- Форкните репозиторий и создайте новую ветку для вашей функциональности:

  ```bash
  git checkout -b feature/your-feature
  ```

- Внесите изменения и добавьте соответствующие тесты.

- Запустите тесты, убедитесь, что всё успешно:

  ```bash
  pytest
  ```

- Создайте Pull Request с подробным описанием внесённых изменений.


